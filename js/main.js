const CONFIG={breakpoints:{sm:640,md:768,lg:1024,xl:1280},animations:{duration:300,easing:"ease-in-out"}};class Navigation{constructor(){this.mobileMenuButton=document.querySelector('[aria-controls="mobile-menu"]'),this.mobileMenu=document.getElementById("mobile-menu"),this.isMenuOpen=!1,this.init()}init(){this.mobileMenuButton&&this.mobileMenu&&(this.bindEvents(),this.setupKeyboardNavigation())}bindEvents(){this.mobileMenuButton.addEventListener("click",()=>this.toggleMenu()),document.addEventListener("click",e=>{!this.isMenuOpen||this.mobileMenu.contains(e.target)||this.mobileMenuButton.contains(e.target)||this.closeMenu()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.isMenuOpen&&(this.closeMenu(),this.mobileMenuButton.focus())}),window.addEventListener("resize",()=>{window.innerWidth>=CONFIG.breakpoints.md&&this.isMenuOpen&&this.closeMenu()})}setupKeyboardNavigation(){const e=this.mobileMenu.querySelectorAll("a"),t=e[0],n=e[e.length-1];this.mobileMenu.addEventListener("keydown",e=>{this.isMenuOpen&&"Tab"===e.key&&(e.shiftKey&&document.activeElement===t?(e.preventDefault(),n.focus()):e.shiftKey||document.activeElement!==n||(e.preventDefault(),t.focus()))})}toggleMenu(){this.isMenuOpen?this.closeMenu():this.openMenu()}openMenu(){this.mobileMenu.classList.remove("hidden"),this.mobileMenuButton.setAttribute("aria-expanded","true"),this.isMenuOpen=!0;const e=this.mobileMenu.querySelector("a");e&&setTimeout(()=>e.focus(),100),document.body.style.overflow="hidden"}closeMenu(){this.mobileMenu.classList.add("hidden"),this.mobileMenuButton.setAttribute("aria-expanded","false"),this.isMenuOpen=!1,document.body.style.overflow=""}}class Accessibility{constructor(){this.init()}init(){this.setupSkipLinks(),this.setupFocusManagement(),this.setupHighContrastMode(),this.setupFontScaling(),this.setupKeyboardNavigation(),this.setupScreenReaderSupport()}setupSkipLinks(){const e=document.querySelector(".skip-link");e&&e.addEventListener("click",t=>{t.preventDefault();const n=document.querySelector(e.getAttribute("href"));n&&(n.focus(),n.scrollIntoView({behavior:"smooth"}))})}setupFocusManagement(){document.querySelectorAll("a, button, input, textarea, select, [tabindex]").forEach(e=>{e.hasAttribute("tabindex")||e.setAttribute("tabindex","0")});const e=document.createElement("style");e.textContent="\n      *:focus {\n        outline: 2px solid #0ea5e9 !important;\n        outline-offset: 2px !important;\n      }\n      \n      .skip-link {\n        position: absolute;\n        top: -40px;\n        left: 6px;\n        background: #000;\n        color: #fff;\n        padding: 8px;\n        text-decoration: none;\n        z-index: 1000;\n        border-radius: 4px;\n      }\n      \n      .skip-link:focus {\n        top: 6px;\n      }\n    ",document.head.appendChild(e)}setupHighContrastMode(){const e=document.createElement("button");e.innerHTML="ðŸŒ“",e.setAttribute("aria-label","Toggle high contrast mode"),e.setAttribute("title","Toggle high contrast mode"),e.className="fixed bottom-4 right-4 bg-gray-800 text-white p-3 rounded-full shadow-lg z-50 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",e.addEventListener("click",()=>{document.body.classList.toggle("high-contrast");const t=document.body.classList.contains("high-contrast");e.setAttribute("aria-pressed",t)}),document.body.appendChild(e);const t=document.createElement("style");t.textContent="\n      .high-contrast {\n        filter: contrast(150%) brightness(110%);\n      }\n      \n      .high-contrast * {\n        border-color: #000 !important;\n      }\n    ",document.head.appendChild(t)}setupFontScaling(){const e=document.createElement("div");e.className="fixed bottom-4 right-20 bg-gray-800 text-white p-2 rounded-lg shadow-lg z-50 flex gap-2",e.innerHTML='\n      <button id="font-decrease" aria-label="Decrease font size" class="px-2 py-1 bg-gray-700 rounded hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500">A-</button>\n      <button id="font-reset" aria-label="Reset font size" class="px-2 py-1 bg-gray-700 rounded hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500">A</button>\n      <button id="font-increase" aria-label="Increase font size" class="px-2 py-1 bg-gray-700 rounded hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500">A+</button>\n    ',document.body.appendChild(e);const t=document.getElementById("font-decrease"),n=document.getElementById("font-reset"),o=document.getElementById("font-increase");let i=100;t.addEventListener("click",()=>{i=Math.max(80,i-10),document.documentElement.style.fontSize=`${i}%`}),n.addEventListener("click",()=>{i=100,document.documentElement.style.fontSize=`${i}%`}),o.addEventListener("click",()=>{i=Math.min(150,i+10),document.documentElement.style.fontSize=`${i}%`})}setupKeyboardNavigation(){document.addEventListener("keydown",e=>{"Tab"===e.key&&document.body.classList.add("keyboard-navigation")}),document.addEventListener("mousedown",()=>{document.body.classList.remove("keyboard-navigation")});const e=document.createElement("style");e.textContent="\n      .keyboard-navigation *:focus {\n        outline: 2px solid #0ea5e9 !important;\n        outline-offset: 2px !important;\n      }\n    ",document.head.appendChild(e)}setupScreenReaderSupport(){const e=document.createElement("div");e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.className="sr-only",e.id="screen-reader-announcer",document.body.appendChild(e),window.announceToScreenReader=e=>{const t=document.getElementById("screen-reader-announcer");t&&(t.textContent=e)}}}class SmoothScroll{constructor(){this.init()}init(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{const n=e.getAttribute("href");if("#"===n)return;const o=document.querySelector(n);o&&(t.preventDefault(),this.scrollToElement(o))})})}scrollToElement(e){const t=e.getBoundingClientRect().top+window.pageYOffset-64;window.scrollTo({top:t,behavior:"smooth"}),e.focus()}}class FormEnhancement{constructor(){this.init()}init(){this.setupFormValidation(),this.setupFormAccessibility()}setupFormValidation(){document.querySelectorAll("form").forEach(e=>{e.querySelectorAll("input, textarea, select").forEach(t=>{if(t.addEventListener("blur",()=>this.validateField(t)),t.addEventListener("input",()=>this.clearFieldError(t)),t.hasAttribute("required")){const n=e.querySelector(`label[for="${t.id}"]`);n&&!n.textContent.includes("*")&&(n.innerHTML+=' <span class="text-red-500">*</span>')}}),e.addEventListener("submit",t=>{this.validateForm(e)||t.preventDefault()})})}validateField(e){const t=e.value.trim();let n=!0,o="";if(e.hasAttribute("required")&&!t&&(n=!1,o="This field is required"),"email"===e.type&&t){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(n=!1,o="Please enter a valid email address")}if("tel"===e.type&&t){/^[\+]?[0-9\s\-\(\)]{10,}$/.test(t)||(n=!1,o="Please enter a valid phone number")}return this.showFieldError(e,n,o),n}validateForm(e){const t=e.querySelectorAll("input, textarea, select");let n=!0;return t.forEach(e=>{this.validateField(e)||(n=!1)}),n}showFieldError(e,t,n){const o=`${e.id}-error`;let i=document.getElementById(o);t?(i&&i.remove(),e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),e.classList.remove("border-red-500")):(i||(i=document.createElement("div"),i.id=o,i.className="text-red-500 text-sm mt-1",i.setAttribute("role","alert"),e.parentNode.appendChild(i)),i.textContent=n,e.setAttribute("aria-invalid","true"),e.setAttribute("aria-describedby",o),e.classList.add("border-red-500"))}clearFieldError(e){const t=`${e.id}-error`,n=document.getElementById(t);n&&(n.remove(),e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),e.classList.remove("border-red-500"))}setupFormAccessibility(){document.querySelectorAll("form").forEach(e=>{e.querySelectorAll("input, textarea, select").forEach(t=>{if(!t.getAttribute("aria-label")&&!t.getAttribute("aria-labelledby")){const n=e.querySelector(`label[for="${t.id}"]`);n&&t.setAttribute("aria-labelledby",n.id||`${t.id}-label`)}})})}}class PerformanceMonitor{constructor(){this.init()}init(){this.monitorPageLoad(),this.setupLazyLoading(),this.optimizeImages()}monitorPageLoad(){window.addEventListener("load",()=>{"PerformanceObserver"in window&&(new PerformanceObserver(e=>{const t=e.getEntries(),n=t[t.length-1];console.log("LCP:",n.startTime)}).observe({entryTypes:["largest-contentful-paint"]}),new PerformanceObserver(e=>{e.getEntries().forEach(e=>{console.log("FID:",e.processingStart-e.startTime)})}).observe({entryTypes:["first-input"]}),new PerformanceObserver(e=>{e.getEntries().forEach(e=>{console.log("CLS:",e.value)})}).observe({entryTypes:["layout-shift"]}))})}setupLazyLoading(){const e=document.querySelectorAll('img[loading="lazy"]');if("IntersectionObserver"in window){const t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src||n.src,n.classList.remove("lazy"),t.unobserve(n)}})});e.forEach(e=>{t.observe(e)})}}optimizeImages(){document.querySelectorAll("img").forEach(e=>{if(!e.hasAttribute("srcset")){const t=e.src.replace(/\.(jpg|jpeg|png)$/i,".webp");this.supportsWebP()&&(e.src=t)}})}supportsWebP(){const e=document.createElement("canvas");return e.width=1,e.height=1,0===e.toDataURL("image/webp").indexOf("data:image/webp")}}document.addEventListener("DOMContentLoaded",()=>{new Navigation,new Accessibility,new SmoothScroll,new FormEnhancement,new PerformanceMonitor,window.announceToScreenReader&&window.announceToScreenReader("Page loaded successfully"),document.body.classList.add("loaded")}),window.SaralaYoga={Navigation:Navigation,Accessibility:Accessibility,SmoothScroll:SmoothScroll,FormEnhancement:FormEnhancement,PerformanceMonitor:PerformanceMonitor};